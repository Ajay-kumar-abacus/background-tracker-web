import { OnInit, OnDestroy, ElementRef, Renderer2 } from '@angular/core';
import { MatDialog } from '@angular/material';
import { Router, ActivatedRoute } from '@angular/router';
import { DatabaseService } from '../services/DatabaseService';
interface EmployeeData {
    name: string;
    employee_id: string;
    contact_01: any;
}
interface LocationData {
    lat: number;
    lng: number;
    type: string;
    address: string;
    timestamp: string;
    distance_from_last?: string;
    total_distance_from_start?: string;
    date_created: string;
    dr_name?: string;
    dr_type_name?: string;
    visit_end?: string;
    sequence?: number;
    id?: string;
}
interface LatestLocation {
    lat: number;
    lng: number;
    gps: string;
    time: string;
    total_checkin: number;
}
interface TrackingAccuracy {
    background: number;
    virtual: number;
}
interface PlaybackControl {
    speed: number;
    progress: number;
    status: string;
    start: () => void;
    pause: () => void;
}
export declare class MapComponent implements OnInit, OnDestroy {
    private router;
    private activatedRoute;
    service: DatabaseService;
    dialogs: MatDialog;
    private renderer;
    private document;
    mapElement: ElementRef;
    userList: any[];
    selectedUserId: string;
    isLoadingUsers: boolean;
    showCheckinAlert: boolean;
    activeTab: string;
    isLoading: boolean;
    isMapLoading: boolean;
    private chartId;
    permissionsData: any;
    permissionsList: any[];
    groupedPermissions: any;
    selectedHour: string;
    hourlyStats: any;
    summarizeData: any;
    showTimelineMap: boolean;
    timelineMapView: any;
    private chart;
    private _isSidebarVisible;
    get isSidebarVisible(): boolean;
    set isSidebarVisible(value: boolean);
    liveUsersData: any[];
    liveUsersMarkers: any[];
    liveUsersUpdateInterval: any;
    showUsersList: boolean;
    selectedLiveUsers: Set<string>;
    timelineEvents: any[];
    timelineData: any;
    private liveTrackingInterval;
    private currentLiveMarker;
    private previousPosition;
    private isAnimating;
    private trackPlayer;
    private trackPlayerInterval;
    private trackPlayerPoints;
    employeeData: EmployeeData;
    locationData: LocationData[];
    latestLocation: LatestLocation;
    attendanceSummary: LocationData[];
    checkinData: LocationData[];
    trackingAccuracy: TrackingAccuracy;
    map: any;
    locationMarkers: LocationData[];
    roadRoute: any;
    routingControl: any;
    trackingInterval: any;
    selectedDate: string;
    maxDate: string;
    totalDistance: string;
    locationDistance: string;
    playbackControl: PlaybackControl;
    playbackStatus: string;
    playbackProgress: number;
    playbackSpeed: number;
    showSpeedControl: boolean;
    playbackMarker: any;
    playbackInterval: any;
    roadRouteCoordinates: [number, number][];
    currentPlaybackIndex: number;
    batteryData: number[];
    batteryTimeLabels: string[];
    batteryChart: any;
    payload: any;
    userId: string;
    playbackDateTime: any;
    total_distance: any;
    debugFlag: any;
    snapToRoad: boolean;
    end_point: any;
    start_point: any;
    activeTime: any;
    missingPermissionsCount: number;
    missingPermissions: string[];
    oldFlag: any;
    userLocationsData: any;
    timeline_gaps: any;
    checkin: any;
    attendanceData: any;
    url: any;
    userListing: boolean;
    checkinKM: any;
    timelineCheckin: any;
    summaryTimelineCheckin: any;
    dateTimeKM: any;
    liveTrackPlayer: any;
    downurl: any;
    timelineInsights: any;
    TC: any;
    PC: any;
    secondary_sale_amount: any;
    New_Counter: any;
    New_counter_TC: any;
    New_counter_PC: any;
    counter_primary_Value: any;
    counter_secondary_Value: any;
    showMoreKpis: boolean;
    baseLat: any;
    baseLng: any;
    attendanceVariation: any;
    showPermissionsDisclaimer: boolean;
    constructor(router: Router, activatedRoute: ActivatedRoute, service: DatabaseService, dialogs: MatDialog, renderer: Renderer2, document: Document);
    ngAfterViewInit(): void;
    ngOnInit(): void;
    ngOnDestroy(): void;
    showCheckinTimeline(): void;
    closeCheckinAlert(): void;
    isToday(): boolean;
    private renderChart;
    private loadRouteParams;
    private initializeData;
    private calculateTotalDistance;
    private loadTrackingAccuracy;
    private loadAttendanceSummary;
    switchTab(tab: string): void;
    private initializeRouteMap;
    private initializeLiveMap;
    private fetchAndUpdateLiveLocation;
    private animateMarkerMovement;
    private updateLiveRoute;
    private initializePlaybackMap;
    private initializeTrackPlayer;
    private setupTrackPlayerEvents;
    private convertToIST;
    startPlayback(): void;
    pausePlayback(): void;
    updateProgress(event: any): void;
    private startProgressInterval;
    private stopProgressInterval;
    formatLabel(value: number): string;
    private routeArrows;
    private drawRoadRoute;
    private interpolateRoute;
    private addDirectionArrows;
    private createArrowSVG;
    private calculateRouteBearing;
    private calculateDistance;
    private addLocationMarkers;
    private findTimelineDataForCheckin;
    private addStartPointLocationMarker;
    private addHomeLocation;
    private addEndPointLocationMarker;
    private getMarkerColor;
    private createMarkerPopup;
    calculateDuration(start: string, end: string): string;
    private formatSeconds;
    findCheckinById(checkinId: string): any;
    private fitMapToBounds;
    private destroyExistingMap;
    toggleSpeedControl(): void;
    playbackDelay: number;
    updateSpeed(event: any): void;
    private initializePlaybackControl;
    setPlaybackSpeed(speed: number): void;
    private renderBatteryChart;
    onDateChange(): void;
    refreshData(): void;
    getMarkerClass(type: string): string;
    getMarkerIcon(type: string): string;
    formatLocationTypeName(type: string): string;
    getHealthScoreClass(score: number | string): string;
    getCheckinTime(record: LocationData): string | null;
    getCheckoutTime(record: LocationData): string | null;
    private clearIntervals;
    resetPlayback(): void;
    jumpToMarker(markerIndex: number): void;
    getCurrentPlaybackInfo(): any;
    exportTrackingData(): any;
    getRouteStatistics(): any;
    private calculateAverageSpeed;
    private calculateTotalDuration;
    searchTerm: string;
    loadUsersList(): void;
    loadLiveLocationData(): void;
    loadLocationTimeLine(): void;
    loadGetDayActivityTimeline(): void;
    loadGetPermissionReport(): void;
    groupPermissionsByHour(): void;
    calculateHourlyStats(): void;
    getSelectedHourPermissions(): any[];
    getHoursList(): string[];
    getGrantedCount(): number;
    getDeniedCount(): number;
    getPermissionIcon(permissionName: string): string;
    formatPermissionName(name: string): string;
    getPermissionDescription(permissionName: string): string;
    formatIssueText(issue: string): string;
    getHourlyStatuses(hour: string): {
        total: number;
        granted: number;
        denied: number;
        avgBattery: number;
        totalIssues: number;
        criticalIssues: number;
        batteryStatus: string;
    };
    getBatteryColor(level: number): string;
    getBatteryIcon(level: number): string;
    getIssueColor(issue: string): string;
    getIssueIcon(issue: string): string;
    isCritical(record: any): boolean;
    selectHour(hour: string): void;
    onUserChange(): void;
    toggleRoadChange(): void;
    private loadLocationData;
    private UserInformation;
    private UserInformationDetail;
    parseDateTime(dateTimeStr: string): Date;
    getRouteEstimated(): void;
    private calculateMissingPermissions;
    showAlert: boolean;
    showMeterAlert: boolean;
    showMissingPermissions(): void;
    closeAlert(): void;
    showMeterDistance(): void;
    closeMeterAlert(): void;
    resolveIssues(): void;
    onFullscreenToggle(): void;
    autoRefreshLiveUsers: boolean;
    isLoadingLiveUsers: boolean;
    liveUsersMap: any;
    private initializeLiveUsersMap;
    loadLiveUsersData(): void;
    updateLiveUsersOnMap(): void;
    createUserMarkerHtml(userData: any): string;
    createUserPopupContent(userData: any): string;
    getStatusColor(status: string): string;
    toggleUserSelection(userId: string): void;
    getActiveUsersCount(): number;
    centerMapOnUsers(): void;
    refreshLiveUsers(): void;
    toggleAutoRefresh(): void;
    getTimelineIcon(type: string): string;
    getTimelineEventClass(type: string): string;
    hasTimelineGap(index: number): boolean;
    getGapDuration(index: number): number;
    private initializeTimelineMapView;
    private createTimelineEventMarker;
    toggleTimelineMap(): void;
    getTotalDistance(): number;
    goToImage(image: any): void;
    showList(): void;
    selectUser(user: any): void;
    downloadPermissionsReport(): void;
    toggleFullScreen(isFullScreen: boolean): void;
}
export {};
